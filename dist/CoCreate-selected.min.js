!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CoCreate=t():(e.CoCreate=e.CoCreate||{},e.CoCreate.selected=t())}(this,(function(){return(()=>{"use strict";var e={};return(()=>{var t=e;t.default=void 0;const r={config:function({srcDocument:e,destDocument:t,wrap:r,callback:c=(()=>""),selector:a,target:l,srcAttribute:o,destAttribute:s,type:d="post",eventType:u="click"}){e.addEventListener(u,(e=>{if(e.target.matches(a)||o&&e.target.hasAttribute(o)){t.querySelectorAll(l).forEach((t=>{let a=e.target.getAttribute(o);r&&(a=r.replace("$1",a)),s&&t.setAttribute(s,a),c(e.target,t)}))}"cut"===d&&e.target.removeAttribute(o)}))},selected:function(){function e(e,t){e.selected_attribute?t.setAttribute(e.selected_attribute,e.selected):(t.classList.add(e.selected),t.setAttribute("selected",""))}function t(e,t){e.selected_attribute?t.removeAttribute(e.selected_attribute,e.selected):(t.classList.remove(e.selected),t.removeAttribute("selected",""))}document.addEventListener("click",(r=>{let c=function(e){for(;!e.dataset.selected;){if(!e.parentElement)return!1;e=e.parentElement}return e}(r.target);if(!c)return;let a=c.dataset,l=a.selected_group?`,[data-selected_group="${a.selected_group||"null"}"]`:"";document.querySelectorAll(` [data-selected]:not([data-selected_group])${l}`).forEach((e=>{let r=e.dataset;t(e.dataset,e),r.selected_target&&document.querySelectorAll(r.selected_target).forEach((e=>t(r,e)))})),e(a,c),a.selected_target&&document.querySelectorAll(a.selected_target).forEach((t=>e(a,t)))}))}};r.selected();var c=r;t.default=c})(),e=e.default})()}));